{"version":3,"file":"js/246.b97fdadc.js","mappings":"waAuBMA,GAASC,EAAAA,EAAAA,KAAI,GAEnB,SAASC,IACPF,EAAOG,OAAQ,E,2hBCpBjB,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,S,4ECPOC,MAAM,a,kCAAXC,EAAAA,EAAAA,IAEM,MAFN,EAEM,EADJC,EAAAA,EAAAA,IAAaC,EAAAA,OAAA,kBAAAC,GAAA,K,YCDjB,MAAMC,EAAS,GAKTN,GAA2B,OAAgBM,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,S,gNCWMC,GAAgBC,EAAAA,EAAAA,KAAS,KAC7B,MAAMC,EAAW,GACXC,EAAcC,OAAOC,EAAMC,SAAS,iBACpCC,EAAYH,OAAOC,EAAMC,SAAS,eAYxC,OAVIH,EAAc,EAAI,GAAGD,EAASM,KAAKL,EAAc,GAEjDA,EAAc,GAAGD,EAASM,KAAKL,EAAc,GAEjDD,EAASM,KAAKL,GAEVA,EAAcI,GAAWL,EAASM,KAAKL,EAAc,GAErDA,EAAc,EAAII,GAAWL,EAASM,KAAKL,EAAc,GAEtDD,K,+YC5BT,MAAMV,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,S,4VCqBA,MAAMiB,GAAQC,EAAAA,EAAAA,MACRC,GAAOV,EAAAA,EAAAA,KAAS,IAAMQ,EAAMG,MAAMC,GAAK,IACvCC,GAASb,EAAAA,EAAAA,KAAS,IAAMQ,EAAMG,MAAME,SAEpCC,GAAY1B,EAAAA,EAAAA,KAAI,GAEhB2B,GAASf,EAAAA,EAAAA,KAAS,KACtB,MAAMgB,EAAQR,EAAMS,OAAOC,QAE3B,MAAc,WAAVF,EACM,aAAYH,EAAOvB,cAAcoB,EAAKpB,QAElC,QAAV0B,EACM,gBAAeN,EAAKpB,QAEtB,WAAU0B,iBAAqBN,EAAKpB,WAGxC6B,GAAYC,EAAAA,EAAAA,IAAS,IACrBC,GAAWD,EAAAA,EAAAA,IAAS,CAAEE,KAAM,OAElCC,eAAeC,UACPC,EAAAA,EAAAA,IACCV,EAAOzB,OACXoC,MAAMC,IACLN,EAASC,KAAOK,EAAIL,KAAKjB,SACzBc,EAAUS,OAAS,EACnBT,EAAUZ,QAAQoB,EAAIL,KAAKA,SAE5BO,OAAM,KACLV,EAAUZ,KAAK,CACbuB,GAAI,EACJC,MAAO,iBACPC,OAAQ,CAAC,kBACTC,OACE,oFAImB,IAArBd,EAAUS,OAAcd,EAAUxB,OAAQ,EACzCwB,EAAUxB,OAAQ,E,OAG3B4C,EAAAA,EAAAA,IAAM,CAACxB,EAAMK,IAASQ,UACpBY,OAAOC,SAAS,CAAEC,IAAK,EAAGC,KAAM,EAAGC,SAAU,iBACvCf,MACL,CAAEgB,WAAW,I,qhBCrEhB,MAAMjD,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE","sources":["webpack://series-tracker/./src/components/Movie/MovieCard.vue","webpack://series-tracker/./src/components/Movie/MovieCard.vue?48a9","webpack://series-tracker/./src/components/Movie/MovieContainer.vue","webpack://series-tracker/./src/components/Movie/MovieContainer.vue?f47d","webpack://series-tracker/./src/components/Pagination/PageSelect.vue","webpack://series-tracker/./src/components/Pagination/PageSelect.vue?ff5a","webpack://series-tracker/./src/views/MovieListView.vue","webpack://series-tracker/./src/views/MovieListView.vue?a195"],"sourcesContent":["<template>\n  <div class=\"card\" :style=\"props.styles\">\n    <img :src=\"props.imgUrl\" alt=\"null\" class=\"card__image\" :class=\"{ 'card__image-hide': !loaded}\" loading=\"lazy\" @load=\"loadFinished\"/>\n    <div class=\"card__loading-placeholder\" v-show=\"!loaded\">Loading</div>\n\n    <div class=\"card__content\">\n      <div class=\"card__info\">\n        <h4 class=\"info__title\">{{ props.title }}</h4>\n        <p class=\"info__genres\">{{ props.genres.join(\" - \") }}</p>\n      </div>\n    </div>\n\n    <router-link\n      class=\"card__link\"\n      :to=\"{ name: 'movie_info', params: { id : props.id } }\"\n    ></router-link>\n  </div>\n</template>\n\n<script setup>\nimport { defineProps, ref } from \"vue\";\n\nconst props = defineProps([\"imgUrl\", \"genres\", \"styles\", \"title\", \"id\"]);\nconst loaded = ref(false);\n\nfunction loadFinished() {\n  loaded.value = true;\n}\n\n</script>\n\n<style lang=\"scss\" scoped>\n.card {\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  width: 100%;\n  background: white;\n  box-shadow: 0 0 0.5rem 0.1rem rgba(0, 0, 0, 0.1);\n  border-radius: 1rem;\n  overflow: hidden;\n  position: relative;\n\n  .card__loading-placeholder {\n    aspect-ratio: 283/429;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n\n  .card__image {\n    width: 100%;\n  }\n  .card__image-hide {\n    width: 0;\n    height: 0;\n  }\n\n  .card__link {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    right: 0;\n    left: 0;\n    z-index: 1;\n  }\n\n  .card__content {\n    padding: 0.5rem;\n    flex-grow: 1;\n\n    .card__info {\n      display: flex;\n      flex-direction: column;\n      justify-content: space-between;\n      gap: 0.3rem;\n      height: 100%;\n\n      .info__title {\n        text-align: center;\n      }\n      .info__genres {\n        text-align: center;\n      }\n    }\n  }\n}\n</style>\n","import script from \"./MovieCard.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./MovieCard.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./MovieCard.vue?vue&type=style&index=0&id=d1175a7e&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/samuel/Projects/Vue/VueMovify/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-d1175a7e\"]])\n\nexport default __exports__","<template>\n  <div class=\"container\">\n    <slot></slot>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n@import '@/assets/styles/base/variables';\n\n.container {\n  display: grid;\n  grid-template-columns: repeat(1, minmax(0, 1fr));\n  padding: 1rem;\n  gap: 1rem;\n\n  @media screen and (min-width: $sm) {\n    grid-template-columns: repeat(2, minmax(0, 1fr));\n  }\n\n  @media screen and (min-width: $md) {\n    grid-template-columns: repeat(3, minmax(0, 1fr));\n  }\n\n  @media screen and (min-width: $lg) {\n    grid-template-columns: repeat(4, minmax(0, 1fr));\n  }\n\n  @media screen and (min-width: $xl) {\n    grid-template-columns: repeat(5, minmax(0, 1fr));\n  }\n}\n</style>\n","import { render } from \"./MovieContainer.vue?vue&type=template&id=1aa20c2c&scoped=true\"\nconst script = {}\n\nimport \"./MovieContainer.vue?vue&type=style&index=0&id=1aa20c2c&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/samuel/Projects/Vue/VueMovify/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1aa20c2c\"]])\n\nexport default __exports__","<template>\n  <div class=\"pagination\">\n    <ul class=\"pagination__pages-container\">\n      <li v-for=\"page in filteredPages\" :key=\"page\">\n        <router-link\n          class=\"page\"\n          :class=\"{ active: props.metadata['current_page'] == page }\"\n          :to=\"{ name: props.view, query: { p: page } }\"\n          >{{ page }}</router-link>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script setup>\nimport { defineProps, computed } from \"vue\";\n\nconst props = defineProps([\"metadata\", \"view\"]);\n\nconst filteredPages = computed(() => {\n  const pageList = [];\n  const currentPage = Number(props.metadata[\"current_page\"]);\n  const pageCount = Number(props.metadata[\"page_count\"]);\n\n  if (currentPage - 1 > 1) pageList.push(currentPage - 2);\n\n  if (currentPage > 1) pageList.push(currentPage - 1);\n\n  pageList.push(currentPage);\n\n  if (currentPage < pageCount) pageList.push(currentPage + 1);\n\n  if (currentPage + 1 < pageCount) pageList.push(currentPage + 2);\n\n  return pageList;\n});\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"@/assets/styles/base/variables\";\n\n.pagination {\n  width: fit-content;\n  margin: 1rem auto;\n  color: white;\n\n  .pagination__pages-container {\n    display: flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n    justify-content: center;\n    align-items: center;\n    gap: 0.3rem;\n\n    .page {\n      background: $primary-color;\n      padding: 0.5rem;\n      border-radius: 0.2rem;\n      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);\n    }\n\n    .page.active {\n      background: $secondary-color;\n      padding: 0.6rem;\n    }\n  }\n}\n</style>\n","import script from \"./PageSelect.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./PageSelect.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./PageSelect.vue?vue&type=style&index=0&id=ca51731a&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/samuel/Projects/Vue/VueMovify/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-ca51731a\"]])\n\nexport default __exports__","<template>\n  <div class=\"view\">\n    <MovieContainer>\n      <movie-card\n        v-for=\"movie in movieList\"\n        :key=\"movie['id']\"\n        :title=\"movie['title']\"\n        :img-url=\"movie['poster']\"\n        :genres=\"movie['genres']\"\n        :style=\"{ width: '100%' }\"\n        :id=\"movie['id']\"\n      ></movie-card>\n    </MovieContainer>\n    <div v-if=\"!isAnyData\" class=\"no-movies\">\n      <h3 class=\"no-movies__title\">I can't find any movie :(</h3>\n    </div>\n    <PageSelect view=\"movies\" :metadata=\"metaData.data\" v-if=\"metaData.data && isAnyData\" />\n  </div>\n</template>\n\n<script setup>\nimport MovieCard from \"@/components/Movie/MovieCard.vue\";\nimport MovieContainer from \"@/components/Movie/MovieContainer.vue\";\nimport PageSelect from \"@/components/Pagination/PageSelect.vue\";\n\nimport { api } from \"@/api\";\nimport { computed, reactive, ref, watch } from \"vue\";\nimport { useRoute } from \"vue-router\";\n\nconst route = useRoute();\nconst page = computed(() => route.query.p || 1);\nconst search = computed(() => route.query.search);\n\nconst isAnyData = ref(true);\n\nconst reqUrl = computed(() => {\n  const genre = route.params.genreId;\n\n  if (genre === \"search\") \n    return `/movies?q=${search.value}&page=${page.value}`;\n  \n  if (genre === \"all\")\n    return `/movies?page=${page.value}`;\n\n  return `/genres/${genre}/movies?page=${page.value}`;\n});\n\nconst movieList = reactive([]);\nconst metaData = reactive({ data: null });\n\nasync function fetchData() {\n  await api\n    .get(reqUrl.value)\n    .then((res) => {\n      metaData.data = res.data.metadata;\n      movieList.length = 0;\n      movieList.push(...res.data.data);\n    })\n    .catch(() => {\n      movieList.push({\n        id: 0,\n        title: \"Loading Failed\",\n        genres: [\"Loading Failed\"],\n        poster:\n          \"https://i.pinimg.com/originals/25/32/13/253213c58ce79335d9f5a5c9b17c3627.gif\",\n      });\n    });\n\n    if (movieList.length === 0) isAnyData.value = false;\n    else isAnyData.value = true;\n}\n\nwatch([page, reqUrl], async () => {\n  window.scrollTo({ top: 0, left: 0, behavior: \"smooth\" });\n  await fetchData();\n}, { immediate: true });\n\n</script>\n\n<style lang=\"scss\" scoped>\n.no-movies {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  min-height: 20vh;\n\n  .no-movies__title {\n    font-size: 1.5rem;\n    font-weight: normal;\n  }\n\n}\n</style>\n","import script from \"./MovieListView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./MovieListView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./MovieListView.vue?vue&type=style&index=0&id=40ef2c38&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/samuel/Projects/Vue/VueMovify/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-40ef2c38\"]])\n\nexport default __exports__"],"names":["loaded","ref","loadFinished","value","__exports__","class","_createElementBlock","_renderSlot","_ctx","undefined","script","render","filteredPages","computed","pageList","currentPage","Number","props","metadata","pageCount","push","route","useRoute","page","query","p","search","isAnyData","reqUrl","genre","params","genreId","movieList","reactive","metaData","data","async","fetchData","api","then","res","length","catch","id","title","genres","poster","watch","window","scrollTo","top","left","behavior","immediate"],"sourceRoot":""}