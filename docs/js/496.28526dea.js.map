{"version":3,"file":"js/496.28526dea.js","mappings":"wRA0BA,MAAMA,GAAQC,EAAAA,EAAAA,MACRC,GAAOC,EAAAA,EAAAA,KAAS,IAAMH,EAAMI,MAAMC,GAAK,IAEvCC,GAASH,EAAAA,EAAAA,KAAS,KACtB,MAAMI,EAAQP,EAAMQ,OAAOC,QAE3B,MAAiB,QAAVF,EACF,gBAAeL,EAAKQ,QACpB,WAAUH,iBAAqBL,EAAKQ,WAIrCC,GAAYC,EAAAA,EAAAA,IAAS,IACrBC,GAAWD,EAAAA,EAAAA,IAAS,CAAEE,KAAM,OAGlCC,eAAeC,UAEPC,EAAAA,EAAAA,IAAQX,EAAOI,OAClBQ,MAAKC,IACJN,EAASC,KAAOK,EAAIL,KAAKM,SACzBT,EAAUU,OAAS,EACnBV,EAAUW,QAAQH,EAAIL,KAAKA,SAC1BS,OAAM,KACPZ,EAAUW,KAAK,CAAEE,GAAI,EAAGC,MAAO,iBAAkBC,OAAQ,CAAC,kBAAmBC,OAAQ,oF,OAI3FC,EAAAA,EAAAA,IAAM,CAAC1B,EAAMI,IAASS,gBACdC,IACNa,OAAOC,SAAS,EAAG,MAGrBd,I,2bCxDA,MAAMe,EAAc,EAEpB","sources":["webpack://series-tracker/./src/views/MovieListView.vue","webpack://series-tracker/./src/views/MovieListView.vue?a195"],"sourcesContent":["<template>\n  <div class=\"view\">\n    <MovieContainer>\n      <movie-card\n        v-for=\"movie in movieList\"\n        :key=\"movie['id']\"\n        :title=\"movie['title']\"\n        :img-url=\"movie['poster']\"\n        :genres=\"movie['genres']\"\n        :style=\"{ width: '100%' }\"\n      ></movie-card>\n    </MovieContainer>\n    <PageSelect view=\"movies\" :metadata=\"metaData.data\" v-if=\"metaData.data\" />\n  </div>\n</template>\n\n<script setup>\n\nimport MovieCard from \"@/components/Movie/MovieCard.vue\";\nimport MovieContainer from \"@/components/Movie/MovieContainer.vue\";\nimport PageSelect from \"@/components/Pagination/PageSelect.vue\";\n\nimport { api } from \"@/api\";\nimport { computed, reactive, watch } from \"vue\";\nimport { useRoute } from \"vue-router\";\n\nconst route = useRoute();\nconst page = computed(() => route.query.p || 1);\n\nconst reqUrl = computed(() => {\n  const genre = route.params.genreId;\n  \n  return genre === \"all\" \n    ? `/movies?page=${page.value}`\n    : `/genres/${genre}/movies?page=${page.value}`;\n});\n\n\nconst movieList = reactive([]);\nconst metaData = reactive({ data: null });\n\n\nasync function fetchData() {\n\n  await api.get(reqUrl.value)\n    .then(res => {\n      metaData.data = res.data.metadata;\n      movieList.length = 0;\n      movieList.push(...res.data.data);\n    }).catch(() => {\n      movieList.push({ id: 0, title: \"Loading Failed\", genres: [\"Loading Failed\"], poster: \"https://i.pinimg.com/originals/25/32/13/253213c58ce79335d9f5a5c9b17c3627.gif\" })\n    });\n}\n\nwatch([page, reqUrl], async () => {\n  await fetchData();\n  window.scrollTo(0, 0);\n});\n\nfetchData();\n\n</script>","import script from \"./MovieListView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./MovieListView.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["route","useRoute","page","computed","query","p","reqUrl","genre","params","genreId","value","movieList","reactive","metaData","data","async","fetchData","api","then","res","metadata","length","push","catch","id","title","genres","poster","watch","window","scrollTo","__exports__"],"sourceRoot":""}